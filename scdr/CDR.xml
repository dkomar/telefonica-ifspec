<?xml version="1.0" encoding="UTF-8"?>
<!--
Usage:
- indentation required! 2 spaces, no tab characters!
-->
<callcase name="whatever" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="CDR.xsd">
  <CDR callpartid="1">
    <!-- the responsible node for this CDR, values: MTAS, BWAS, S-CSCF, E-CSCF, ngIN-AS -->
    <layer from="common">
      <mMTelServiceRecord>
        <mMTelRecord>

          <!-- success cases: 83 -->
          <!-- emergency: 83 -->
          <!-- failures: 83 -->
          <recordType>83</recordType>

          <!--
          The address or addresses (Public User ID or Public Service ID) of the
          party requesting a service or initiating a session. This field may hold
          the SIP URI (according to RFC 3261 [401]), the TEL URI (according to RFC
          3966 402]) or both the SIP URI and the TEL URI of the calling party. The
          address is obtained from the P-Asserted-Identity header of a non-REGISTER
          SIP Request, either initiating a dialog or a standalone transaction.
          -->
          <list-Of-Calling-Party-Address>
            <involvedParty>
              <tel>tel:+4912312312341234</tel>
            </involvedParty>
            <involvedParty>
              <sip>sip:blablabla@domain.de</sip>
            </involvedParty>
          </list-Of-Calling-Party-Address>

          <!--
          In the context of an end-to-end SIP transaction (except for SIP REGISTER
          and SIP SUBSCRIBE transactions) this field holds the address of the party
          (Public User ID or Public Service ID) to whom the SIP transaction is posted.
          The Called Party Address shall be populated with the SIP URI (according
          to RFC3261 [401]) or TEL URI (according to RFC3966 [402]) contained in
          the outgoing Request-URI of the request (e.g. after ENUM query or after
          AS interaction). Called Party Address could also be populated with an
          URN (according to RFC5031 [407]) for an emergency SIP session.
          -->
          <called-Party-Address>
            <involvedParty>
              <tel>tel:+49123123123</tel>
            </involvedParty>
          </called-Party-Address>

          <!--
          This field contains the time stamp which indicates the time at which the
          service was requested ("SIP request" message) and is present for session
          related and session unrelated procedures. The content of this item is derived
          from the SIP-Request-Timestamp AVP as defined in Table 5.8. If the SIP-Request-Timestamp
          AVP is not supplied by the network entity this field is not present.
          NOTE: Request-Timestamp from Start ACR
          -->
          <serviceRequestTimeStamp>031231235959+0000</serviceRequestTimeStamp>
          <serviceRequestTimeStampFraction>239</serviceRequestTimeStampFraction>

          <!--
          This field holds the time stamp reflecting either:
          - a successful session set-up: this field holds the start time of a service
            delivery (session related service)
          - a delivery of a session unrelated service: the service delivery time stamp
          - an unsuccessful session set-up and an unsuccessful session unrelated
            request: this field holds the time the network entity forwards the
            unsuccessful indication (SIP "RESPONSE" with error codes 3xx, 4xx, 5xx)
            towards the requesting User direction.
          The content of this field corresponds to the SIP-Response-Timestamp AVP as defined in Table 5.8.
          NOTE: Response-Timestamp from start ACR
          -->
          <serviceDeliveryStartTimeStamp>031231235959+0000</serviceDeliveryStartTimeStamp>
          <serviceDeliveryStartTimeStampFraction>923</serviceDeliveryStartTimeStampFraction>

          <!--
          This field records the time at which the service delivery was terminated.
          It is Present only in SIP session related case. The content of this field
          corresponds to the SIP-Request-Timestamp AVP of a received ACR[Stop] message
          indicating a session termination.
          NOTE: Request-Timestamp from Stop ACR
          -->
          <serviceDeliveryEndTimeStamp>031231235959+0000</serviceDeliveryEndTimeStamp>
          <serviceDeliveryEndTimeStampFraction>129</serviceDeliveryEndTimeStampFraction>

          <!--
          This list holds the identification of the pair of originating network and
          terminating network if exchanged via SIP signalling, as recorded in the
          Inter Operator Identifier (IOI) AVP as described in TS 32.299 [50].  It
          may occur several times in one CDR. For further information on the IOI
          exchange via SIP signalling please refer to TS 24.229 [210].
          -->
          <interOperatorIdentifiers>
            <value>
              <originatingIOI></originatingIOI>
              <terminatingIOI></terminatingIOI>
            </value>
          </interOperatorIdentifiers>


          <iMS-Charging-Identifier></iMS-Charging-Identifier>


          <list-Of-SDP-Media-Components>
            <media-Components-List>
              <sIP-Request-Timestamp>031231235959+0000</sIP-Request-Timestamp>
              <sIP-Request-Timestamp-Fraction>234</sIP-Request-Timestamp-Fraction>
              <sIP-Response-Timestamp>031231235959+0000</sIP-Response-Timestamp>
              <sIP-Response-Timestamp-Fraction>575</sIP-Response-Timestamp-Fraction>
              <sDP-Media-Components>
                <sDP-Media-Component>
                  <sDP-Media-Name></sDP-Media-Name>
                  <sDP-Media-Description></sDP-Media-Description>
                </sDP-Media-Component>
              </sDP-Media-Components>
              <sDP-Session-Description>
                <value></value>
              </sDP-Session-Description>
              <sDP-Type>0</sDP-Type>
            </media-Components-List>
          </list-Of-SDP-Media-Components>

          <serviceReasonReturnCode>0</serviceReasonReturnCode>


          <!--
          This field identifies the charged party. The contents are coded in a similar
          fashion as for the Subscription-Id AVP in TS 32.299 [50].
          -->
          <list-of-subscription-ID>
            <subscriptionID>
              <subscriptionIDType>0</subscriptionIDType>
              <subscriptionIDData><!-- MSISDN (not tel: uri!)--></subscriptionIDData>
            </subscriptionID>
            <subscriptionID>
              <subscriptionIDType>2</subscriptionIDType>
              <subscriptionIDData><!-- SIP URI (sip:.*) --></subscriptionIDData>
            </subscriptionID>
          </list-of-subscription-ID>

          <numberPortabilityRouting></numberPortabilityRouting>

          <!--
          This field holds the address or addresses (SIP URI and/or TEL URI according
          to RFC 3261 [401] and RFC 3966 [402] respectively) of the party (Public
          User ID or Public Service ID) of the finally asserted called party.
          These address/addresses are obtained from the P-Asserted-Identity SIP header
          field of the 2xx responses corresponding to a SIP request either initiating
          a dialog or a standalone transaction.
          This field shall be present when the P-Asserted-Identity SIP header field
          is available in the SIP 2xx response. In case no P-Asserted-Identity is
          known, this list shall include one item (of type SIP URI) with the value
          “unknown”.
          -->
          <list-Of-Called-Asserted-Identity>
            <involvedParty>
              <sip>sip:unknown@unknown</sip>
            </involvedParty>
          </list-Of-Called-Asserted-Identity>

        </mMTelRecord>
      </mMTelServiceRecord>
    </layer>



    <layer from="BWAS">
      <mMTelServiceRecord>
        <mMTelRecord>
          <recordExtensions>
            <bW-service-provider>est</bW-service-provider>
            <bW-user-Number>test</bW-user-Number>
            <bW-dialed-Digits>test</bW-dialed-Digits>
            <bW-call-Category>test</bW-call-Category>
            <bW-network-Translated-Number>test</bW-network-Translated-Number>
            <bW-codec>test</bW-codec>
            <bW-access-Callid>test</bW-access-Callid>
            <bW-group>test</bW-group>
            <bW-original-Called-Number>est</bW-original-Called-Number>
            <bW-redirecting-Number>test</bW-redirecting-Number>
            <bW-userId>test</bW-userId>
            <bW-other-Party-Name>test</bW-other-Party-Name>
            <eMM-on-net-flag>test</eMM-on-net-flag>
            <eMM-on-platform-flag>test</eMM-on-platform-flag>
            <eMM-faxmail-flag>test</eMM-faxmail-flag>
            <eMM-voicemail-flag>test</eMM-voicemail-flag>
          </recordExtensions>


          <Access-Network-Information></Access-Network-Information>

        </mMTelRecord>
      </mMTelServiceRecord>
    </layer>

    <layer from="MTAS">
      <mMTelServiceRecord>
        <mMTelRecord>
          <Access-Network-Information></Access-Network-Information>
          <!--
          This field holds the address of the party (Public User ID or Public Service ID) to whom the SIP
          transaction was originally posted. The Requested Party Address shall be populated with the SIP URI
          or TEL URI (according to RFC 3261 [401] and RFC 3966 [402] respectively) contained in the
          incoming Request-URI of the request. This field is only present if different from the Called Party
          Address parameter.
          -->
          <requested-Party-Address>
            <involvedParty>
              <sip>sip:requesteduser@requesteddomain.com</sip>
            </involvedParty>
          </requested-Party-Address>

          <mMTelInformation>
            <listOfSupplServices>
              <serviceType>0</serviceType>
              <serviceMode>0</serviceMode>
            </listOfSupplServices>
          </mMTelInformation>
        </mMTelRecord>
      </mMTelServiceRecord>
    </layer>

    <!-- NO CHANGE -->
    <layer from="fixed">
      <mMTelServiceRecord>
        <mMTelRecord>
          <!-- 0 for originating, 1 for terminating -->
          <role-of-Node>0</role-of-Node>
          <!-- If empty, content populated by MM with random string -->
          <session-Id></session-Id>
          <causeForRecordClosing>0</causeForRecordClosing>
          <serviceContextID>11.32275@3gpp.org</serviceContextID>
          <iMSCommunicationServiceIdentifier>urn-7:3gpp-service.ims.icsi.mmtel</iMSCommunicationServiceIdentifier>
          <transit-IOI-List></transit-IOI-List>
        </mMTelRecord>
      </mMTelServiceRecord>
    </layer>

    <layer from="ngIN">
      <mMTelServiceRecord>
        <mMTelRecord>
          <!-- multiple occurences of value is allowed -->
          <!-- Presence: Populated only for mVoLTE call cases, during Fixed calls, entire structure is absent -->
          <serviceSpecificInfo>
            <value>
              <serviceSpecificType>160</serviceSpecificType>
              <serviceSpecificData><!-- Zoning MOC Result Code--></serviceSpecificData>
            </value>
            <value>
              <serviceSpecificType>192</serviceSpecificType>
              <serviceSpecificData><!-- VPN MOC Result Code --></serviceSpecificData>
            </value>
            <value>
              <serviceSpecificType>193</serviceSpecificType>
              <serviceSpecificData><!-- VPN MFC Result Code --></serviceSpecificData>
            </value>
            <value>
              <serviceSpecificType>194</serviceSpecificType>
              <serviceSpecificData><!-- PBXLink OC Result Code --></serviceSpecificData>
            </value>
            <value>
              <serviceSpecificType>195</serviceSpecificType>
              <serviceSpecificData><!-- PBXLink FC Result Code --></serviceSpecificData>
            </value>
          </serviceSpecificInfo>
        </mMTelRecord>
      </mMTelServiceRecord>
    </layer>
  </CDR>
</callcase>
